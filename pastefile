using Microsoft.AspNetCore.Mvc;
using YourApp.Models;
using YourApp.Repositories;
using System.Threading.Tasks;

namespace YourApp.Controllers
{
    public class ManualAddController : Controller
    {
        private readonly ManualAddRepository _repository;

        public ManualAddController(ManualAddRepository repository)
        {
            _repository = repository;
        }

        public IActionResult Index()
        {
            return View();
        }

        [HttpPost]
        public async Task<IActionResult> AddProspect(ManualAddModel model)
        {
            if (ModelState.IsValid)
            {
                long lmdbId = await _repository.AddProspectAsync(model);
                // Optionally, pass the LMDBID to a success view
                ViewBag.LMDBID = lmdbId;
                return View("Success"); // You can create a Success view
            }
            return View("Index"); // Return the form if there are validation errors
        }
    }
}



@model YourApp.Models.ManualAddModel

<form method="post" asp-action="AddProspect">
    <div>
        <label for="UserId">UserId</label>
        <input type="text" id="UserId" name="UserId" asp-for="UserId" />
    </div>
    <div>
        <label for="AccountNo">AccountNo</label>
        <input type="text" id="AccountNo" name="AccountNo" asp-for="AccountNo" />
    </div>
    <div>
        <label for="SSN">SSN</label>
        <input type="text" id="SSN" name="SSN" asp-for="SSN" />
    </div>
    <div>
        <label for="Balance">Balance</label>
        <input type="number" id="Balance" name="Balance" asp-for="Balance" />
    </div>
    <!-- Add other fields as needed -->

    <button type="submit">Submit</button>
</form>
