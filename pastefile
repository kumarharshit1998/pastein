using System;
using System.DirectoryServices;
using System.DirectoryServices.AccountManagement;

class Program
{
    static void Main(string[] args)
    {
        string domainName = "yourdomain"; // Replace with your domain
        string groupName = "YourGroup";   // Replace with your AD group name
        string userName = "YourUser";     // Replace with the user ID to validate

        bool isMember = IsUserInGroup(domainName, groupName, userName);
        Console.WriteLine(isMember ? "User is a member of the group." : "User is not a member of the group.");
    }

    static bool IsUserInGroup(string domainName, string groupName, string userName)
    {
        using (PrincipalContext ctx = new PrincipalContext(ContextType.Domain, domainName))
        {
            GroupPrincipal group = GroupPrincipal.FindByIdentity(ctx, groupName);
            UserPrincipal user = UserPrincipal.FindByIdentity(ctx, userName);

            if (group != null && user != null)
            {
                return group.GetMembers(true).Contains(user);
            }
            return false;
        }
    }
}
